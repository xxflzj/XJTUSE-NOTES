

# 3.1 树和二叉树的基本概念与性质

## 1、树的定义

树是一种非线性的数据结构，下图就是一个树，它是由若干个结点（如A,B,C）组成的结合，是由唯一的**根**（结点A）和若干棵互不相交的子树（如B,E,F,K,L这五个结点组成的树就是一棵**子树**。其中，每一棵子树也是一棵树，也是由唯一的根结点和若干课棵互不相干的子树组成的，由此可见，树的定义是递归的。需注意，树的结点数目可以为零，当结点数为0时，这是一棵**空树**。

![在这里插入图片描述](https://raw.githubusercontent.com/yijunquan-afk/img-bed-1/main/img/2d9477035f5540a68517f939db4992db.png)

## 2、跟树相关的概念

**结点**：结点不仅包含数据元素，而且包含指向子树的指针信息，如A,B,C都是结点，A中不仅有数据元素A，也包含了指向结点B,C,D所在子树的指针。

**结点的度**：指的是结点拥有的子树个数或者分支的个数，比如A中有三个子树，所以A结点的度为3.

**树的度**：各个结点中度的最大值

**叶结点**：又叫做终端结点，指的是度为0的结点，如图中K,L,F,G,M,I,J

**分支结点**：也叫做非终端结点，指的是度不为零的结点。

**子结点**：结点的子树的根结点，如A结点的子结点就是B,C,D

**父结点**：与子结点的定义相对应，B,C,D结点的父结点就是A结点

**兄弟**：同一个父结点的子结点之间互为兄弟，如B,C,D互为兄弟

**堂兄弟**：双亲在同一层的结点互为堂兄弟，如E和H就互为堂兄弟

**祖先**：从根到某结点的路径上的所有结点，都是这个结点的祖先，如K结点的祖先就有A,B,E

**子孙**：以某结点为根的子树中的所有结点，如B结点的子孙就有E,F,K,L

**层次**：以根开始，**根为第0层**（不同的教材定义不同），根的孩子为第1层，根的孩子的孩子为第2层，以此类推

**结点的深度和高度**：

​	1）**结点的深度**是从根结点到该结点路径上的结点数**（路径的长度）**

​	2）从某结点往下走可能到达多个叶子节点，对应了多条通往这些叶子节点的路径，其中最长的路径上结点的个数即为该结点在树中的高度，如图中B结点的高度为3，就是从B到K的结点数为3

​	3）根结点的高度即为树的高度

**树的高度**：树中结点的最大深度+1，如图中所示树的高度就为4

**无序树**：树中结点的子树没有顺序，可以任意交换

**有序树**：树中结点的子树是有顺序的，不能交换

**森林**：若干课互不相交的树组成的集合

## 3、二叉树的定义

在树的基础上，加上以下两个条件就构成了二叉树：

:one: 每个结点最多只有两棵子树，即二叉树中结点的度只有0、1、2

:two: 子树有左右之分，不能颠倒

由以上的定义可知，二叉树由五个基本的形态：

空二叉树、只有根结点、只有左子树、只有右子树、既有左子树也有右子树，如下图所示；

![在这里插入图片描述](https://raw.githubusercontent.com/yijunquan-afk/img-bed-1/main/img/8438d33fc9b043d398bc9c9a7b5d335f.png)

### 满二叉树与完全二叉树

**满二叉树**：full binary tree 满二叉树的每一个结点，要么是一个恰有两个非空结点的分支结点要么是一个叶子结点。

**完全二叉树**：complete binary tree 完全二叉树有严格的要求：从根结点起，每一层**从左往右填充**（<font color="red">不能跳着填入</font>）。一棵高度为d的完全二叉树除了d-1层（最后一层）以外，每一层都是满的

![img](https://raw.githubusercontent.com/yijunquan-afk/img-bed-1/main/img/1c8631fb982844ef9148424cd746d86b.png)

## 4、二叉树的性质定理

:one: **满二叉树定理**：非空满二叉树的叶结点数等于其分支结点数+1

:two: **定理：一棵非空二叉树空子树的数目等于其结点数目+1**，证明如下：

证明1：设二叉树T，将其中所有的空子树都换成叶结点，更换以后的树记作T‘，所有原来树T的结点都变为树T‘的分支结点，由满二叉树的定义可知，T’为满二叉树。根据满二叉树定理，新添加的叶结点数等于树T的结点树+1，由于新添加的叶结点为原来书中的空子树，因此树T中的空子树数目等于其结点数+1

证明2：有定义可知，树T中每个结点都有2个子结点，因此一棵由n个结点的树一共有2n个子结点，除了根结点以外，每个结点都有一个父结点，于是共有n-1个父结点，即有n-1个非空子结点，既然一共有2n个子结点，那么其中必然有n+1个空的子结点，即有n+1个空子树

:three: **定理**：对任何一棵二叉树T，如果其叶结点树为$n_0$，则具有两棵子树的分支结点数为$n_2$，则有$n_0 = n_2 +1$

证明：二叉树中，只有三种结点：叶结点$n_0$，有一棵子树的结点$n_1$，有两棵子树的结点$n_2$，设该树的节点总数为$n$，则有

$n=n_0 + n_1+ n_2$，也有$n=\underbrace{0\times n_0 + 1\times n_1 + 2\times n_2}_{分支数}+1$，结合这两个式子即可证明

:four: **定理**：高度为k的二叉树最多有$2^k-1(k\ge 1)$个结点

:five: <font color="red">**定理：**</font>具有$n(n\ge1)$个结点的完全二叉树的高度为$\lfloor \log_{2}n \rfloor+1$，也可写作$h=\lceil \log_{2}{(n+1)} \rceil$

证明：由定理四可知：$2^{h-1}-1<n\le 2^h-1$，其中h为这棵二叉树的高度，也可以写作$2^{h-1}\le n <2^h$，对其取对数则有$h-1\le \log_2 n<h$，由于h为整数，所以对$\log_2 n$向下取整即可得到一个等式：$h-1=\lfloor \log_{2}n \rfloor$,故有$h=\lfloor \log_{2}n \rfloor+1$

:six: 有n个结点的完全二叉树，对其结点从上到下、从左到右依次编号（编号范围为1~n），则结点之间有如下关系：

若i为某结点a的编号，则：

如果$i\ne 1$,则a的父结点编号为$\lfloor i/2 \rfloor$

如果$2i\le n$，则a左孩子的编号为$2i$；如果$2i>n$则a无左孩子

如果$2i +1\le n$，则a右孩子的编号为$2i+1$；如果$2i+1>n$则a无右孩子

如果从0开始编号，则其左孩子编号为$2i+1$，右孩子编号为$2i+2$，父结点编号为$\lfloor i/2 \rfloor+1$